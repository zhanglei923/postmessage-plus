<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <script src="../../dist/v1/postmessage-plus.dist.js" ></script>
</head>
<body>
    main page
    <script>
        var getValue = function(a,b,c){
            return  a+b+c;
        }
        var callChild = function(){
            var frame1 = document.getElementById('frame1')
            postmessageplus.setTarget(frame1).callWindowMethod('getChildValue', 1,2,3).then(function (result){
                alert(result)
            })
        }
        var callSelf = function(){
            postmessageplus.callWindowMethod('getValue', 1,2,3).then(function (result){
                alert(result)
            })
        }
    
    </script>

    <iframe id="frame1" src="./child.html" ></iframe>
    <iframe id="frame2" src="./child-performance.html" ></iframe>
    <button onclick="callSelf()">call self</button>
    <button onclick="callChild()">call child</button>

</body>
</html>